<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>주오컴퍼니 매장 송출용 시스템</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc;
        }

        .text-juo-orange {
            color: #FF7A00;
        }

        .bg-juo-orange {
            background-color: #FF7A00;
        }

        .hover\:bg-juo-orange:hover {
            background-color: #FF7A00;
        }

        .border-juo-orange {
            border-color: #FF7A00;
        }

        .ring-juo-orange {
            --tw-ring-color: #FF7A00;
        }

        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        .nav-item.active {
            background-color: #FF7A00;
            color: white;
            font-weight: 700;
        }

        .nav-item:hover:not(.active) {
            background-color: #fff7ed;
            color: #FF7A00;
        }

        .slide-card {
            transition: all 0.2s ease;
        }

        .slide-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .toggle-checkbox:checked {
            right: 0;
            border-color: #FF7A00;
        }

        .toggle-checkbox:checked+.toggle-label {
            background-color: #FF7A00;
        }

        .input-field {
            transition: all 0.2s;
        }

        .input-field:focus {
            outline: none;
            border-color: #FF7A00;
            box-shadow: 0 0 0 3px rgba(255, 122, 0, 0.1);
        }

        /* Slideshow Styles */
        .slide {
            display: none;
            width: 100%;
            height: 100%;
        }

        .slide.active {
            display: flex;
        }

        #slideshow-controls-wrapper.show-controls.active {
            opacity: 1;
        }

        #presentation-container {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        .card-shadow {
            box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.15);
        }
    </style>
</head>

<body class="h-screen overflow-hidden flex flex-col">

    <!-- Admin Container -->
    <div id="admin-container" class="flex flex-col h-full">

        <!-- Header -->
        <header class="bg-white border-b border-slate-200 h-16 shrink-0 z-20">
            <div class="h-full px-6 flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <button onclick="history.back()"
                        class="p-2 hover:bg-slate-100 rounded-lg text-slate-500 transition">
                        <i data-lucide="arrow-left" class="w-6 h-6"></i>
                    </button>
                    <h1 class="text-lg font-bold text-slate-800 flex items-center gap-2">
                        <i data-lucide="monitor-play" class="w-5 h-5 text-juo-orange"></i>
                        매장 디스플레이 관리자
                    </h1>
                </div>
                <div class="flex items-center gap-3">
                    <button onclick="hardRefresh()"
                        class="px-3 py-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition flex items-center gap-1.5 text-xs font-bold"
                        title="페이지 강력 새로고침">
                        <i data-lucide="rotate-cw" class="w-3.5 h-3.5"></i>
                        <span>새로고침</span>
                    </button>
                    <div class="h-4 w-px bg-slate-200 mx-1 hidden md:block"></div>
                    <div class="text-right mr-4 hidden md:block">
                        <div id="last-saved-time" class="text-xs font-bold text-slate-400">저장 기록 없음</div>
                    </div>
                    <button onclick="resetData()"
                        class="px-4 py-2 bg-red-50 text-red-600 border border-red-200 rounded-xl font-bold hover:bg-red-100 transition flex items-center gap-2"
                        title="모든 데이터 초기화">
                        <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
                        <span class="hidden sm:inline">초기화</span>
                    </button>
                    <button onclick="saveSettings()"
                        class="px-4 py-2 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-700 transition flex items-center gap-2">
                        <i data-lucide="save" class="w-4 h-4"></i>
                        <span class="hidden sm:inline">저장</span>
                    </button>
                    <button onclick="startSlideshow()"
                        class="px-4 py-2 bg-juo-orange text-white rounded-xl font-bold hover:bg-orange-600 transition shadow-lg shadow-orange-200 flex items-center gap-2">
                        <i data-lucide="play-circle" class="w-4 h-4"></i>
                        <span class="hidden sm:inline">슬라이드쇼</span>
                    </button>
                </div>
            </div>
        </header>

        <div class="flex flex-1 overflow-hidden">

            <!-- Sidebar -->
            <aside class="w-64 bg-white border-r border-slate-200 flex flex-col shrink-0">
                <div class="p-6 border-b border-slate-100">
                    <h2 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">메뉴</h2>
                    <nav class="space-y-2">
                        <button onclick="scrollToSection('section-guide')"
                            class="nav-item active w-full text-left px-4 py-3 rounded-xl text-slate-600 transition flex items-center gap-3">
                            <i data-lucide="book-open" class="w-4 h-4"></i> 시스템 가이드
                        </button>
                        <button onclick="scrollToSection('section-settings')"
                            class="nav-item w-full text-left px-4 py-3 rounded-xl text-slate-600 transition flex items-center gap-3">
                            <i data-lucide="settings" class="w-4 h-4"></i> 시스템 설정
                        </button>
                        <button onclick="scrollToSection('section-notice')"
                            class="nav-item w-full text-left px-4 py-3 rounded-xl text-slate-600 transition flex items-center gap-3">
                            <i data-lucide="megaphone" class="w-4 h-4"></i> 매장 공지
                        </button>
                        <button onclick="scrollToSection('section-slides')"
                            class="nav-item w-full text-left px-4 py-3 rounded-xl text-slate-600 transition flex items-center gap-3">
                            <i data-lucide="images" class="w-4 h-4"></i> 소개 슬라이드
                        </button>
                    </nav>
                </div>

                <div class="p-6 mt-auto bg-slate-50 border-t border-slate-100">
                    <div class="flex items-center gap-3">
                        <div
                            class="w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center text-juo-orange">
                            <i data-lucide="store" class="w-5 h-5"></i>
                        </div>
                        <div>
                            <div class="text-sm font-bold text-slate-700">매장 관리자</div>
                            <div class="text-xs text-slate-400">디스플레이 시스템</div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 overflow-y-auto custom-scroll p-8" id="main-content">
                <div class="flex gap-4">
                    <div class="flex-1">
                        <!-- System Guide Section -->
                        <section id="section-guide" class="mb-8">
                            <div class="max-w-3xl mx-auto">
                                <div
                                    class="bg-gradient-to-br from-orange-50 to-orange-100/50 rounded-xl border border-orange-200 overflow-hidden">
                                    <div class="p-4 border-b border-orange-200 flex items-center gap-3">
                                        <div
                                            class="w-8 h-8 rounded-lg bg-juo-orange flex items-center justify-center text-white">
                                            <i data-lucide="book-open" class="w-4 h-4"></i>
                                        </div>
                                        <div>
                                            <h2 class="font-bold text-slate-800">시스템 안내 가이드</h2>
                                            <p class="text-xs text-slate-500">매장 디스플레이 시스템 사용 전 필독사항</p>
                                        </div>
                                    </div>

                                    <div class="p-4 space-y-2">
                                        <!-- Recommendation Block -->
                                        <div
                                            class="bg-blue-50/80 rounded-lg p-3 flex items-start gap-3 border border-blue-100 mb-1">
                                            <div
                                                class="w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 shrink-0">
                                                <i data-lucide="info" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-blue-900 text-sm mb-1">권장 환경 및 설정</h3>
                                                <p class="text-xs text-blue-800 mb-1">데스크탑 PC 환경(Chrome, Edge 브라우저) 및
                                                    1920x1080(Full HD) 해상도를 권장합니다.</p>
                                                <p class="text-xs text-blue-800">원활한 시청을 위해 <span
                                                        class="font-bold text-juo-orange">슬라이드 전환 간격은 15초</span>를 추천합니다.
                                                </p>
                                            </div>
                                        </div>

                                        <div class="bg-white/70 rounded-lg p-3 flex items-start gap-3">
                                            <div
                                                class="w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center text-green-600 shrink-0">
                                                <i data-lucide="save" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-slate-800 text-sm mb-1">저장</h3>
                                                <p class="text-sm text-slate-600">입력한 모든 내용은 <span
                                                        class="font-bold text-juo-orange">반드시 '저장' 버튼을 클릭</span>해야 매장
                                                    디스플레이에 반영됩니다. 변경 사항이 반영되지 않는 것 같을때는 저장 후 시도해보세요.</p>
                                            </div>
                                        </div>

                                        <div class="bg-white/70 rounded-lg p-3 flex items-start gap-3">
                                            <div
                                                class="w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center text-red-600 shrink-0">
                                                <i data-lucide="alert-triangle" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-slate-800 text-sm mb-1">데이터 보존 주의</h3>
                                                <p class="text-sm text-slate-600">모든 데이터는 브라우저(Chrome, Edge 등)에 임시
                                                    저장됩니다. <span class="font-bold text-red-600">인터넷 사용 기록을 삭제하면 저장된 모든
                                                        데이터가 삭제</span>됩니다.</p>
                                            </div>
                                        </div>

                                        <div class="bg-white/70 rounded-lg p-3 flex items-start gap-3">
                                            <div
                                                class="w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 shrink-0">
                                                <i data-lucide="play-circle" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-slate-800 text-sm mb-1">슬라이드쇼 사용법</h3>
                                                <p class="text-sm text-slate-600">우측 상단의 '슬라이드쇼' 버튼을 클릭하면 전체 화면으로 슬라이드가
                                                    재생됩니다. 키보드 <span class="font-bold">ESC 키</span>를 누르거나 하단 컨트롤 바의 '종료'
                                                    버튼으로 종료할 수 있으며, 일시정지 및 화살표 버튼으로 수동 조작도 가능합니다.</p>
                                            </div>
                                        </div>

                                        <div class="bg-white/70 rounded-lg p-3 flex items-start gap-3">
                                            <div
                                                class="w-8 h-8 rounded-lg bg-yellow-100 flex items-center justify-center text-yellow-600 shrink-0">
                                                <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-slate-800 text-sm mb-1">초기화 주의</h3>
                                                <p class="text-sm text-slate-600">우측 상단의 <span
                                                        class="font-bold text-red-600">'초기화' 버튼을 클릭하면 저장된 모든 슬라이드와 설정이
                                                        영구적으로 삭제</span>됩니다. 실수로 누르지 않도록 주의하세요.</p>
                                            </div>
                                        </div>

                                        <div class="bg-white/70 rounded-lg p-3 flex items-start gap-3">
                                            <div
                                                class="w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 shrink-0">
                                                <i data-lucide="home" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-slate-800 text-sm mb-1">보호소 모드</h3>
                                                <p class="text-sm text-slate-600">이 옵션을 켜면 <span
                                                        class="font-bold text-juo-orange">gold 멤버십이 강조</span>되어 보여집니다.
                                                </p>
                                            </div>
                                        </div>

                                        <div class="bg-white/70 rounded-lg p-3 flex items-start gap-3">
                                            <div
                                                class="w-8 h-8 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 shrink-0">
                                                <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-slate-800 text-sm mb-1">시스템 최신화</h3>
                                                <p class="text-sm text-slate-600">시스템은 주기적으로 업데이트됩니다. 최신 기능을 안정적으로
                                                    사용하시려면 <span class="font-bold text-juo-orange">한 달에 한 번 정도
                                                        '새로고침' 버튼</span>을
                                                    클릭해 주세요.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="px-4 pb-4">
                                        <div class="bg-slate-800 text-white rounded-lg p-3 flex items-center gap-3">
                                            <div
                                                class="w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center shrink-0">
                                                <i data-lucide="headphones" class="w-4 h-4"></i>
                                            </div>
                                            <div class="flex-1">
                                                <h3 class="font-bold text-sm">버그 신고 및 문의</h3>
                                                <p class="text-sm text-slate-300">주오컴퍼니 이주호 과장 010-3411-6740</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </section>

                        <!-- Settings Section -->
                        <section id="section-settings" class="mb-8">
                            <div class="bg-white rounded-2xl border border-slate-200 overflow-hidden">
                                <div class="p-6 border-b border-slate-100 flex items-center gap-3">
                                    <div
                                        class="w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-500">
                                        <i data-lucide="settings" class="w-5 h-5"></i>
                                    </div>
                                    <div>
                                        <h2 class="text-lg font-bold text-slate-800">시스템 설정</h2>
                                        <p class="text-sm text-slate-400">슬라이드쇼의 기본적인 동작 방식</p>
                                    </div>
                                </div>

                                <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-8">
                                    <div>
                                        <label
                                            class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block">슬라이드
                                            전환 간격</label>
                                        <div class="relative mb-6">
                                            <input type="number" id="setting-interval" value="8" min="3" max="60"
                                                class="w-full px-4 py-3 rounded-xl border border-slate-200 input-field font-bold text-slate-800 pr-12">
                                            <span
                                                class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold">초</span>
                                        </div>

                                        <label
                                            class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block">운영
                                            모드</label>
                                        <div
                                            class="bg-slate-50 border border-slate-200 rounded-xl p-4 flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <div
                                                    class="w-10 h-10 rounded-lg bg-white border border-slate-200 flex items-center justify-center text-juo-orange shadow-sm">
                                                    <i data-lucide="home" class="w-5 h-5"></i>
                                                </div>
                                                <div>
                                                    <h3 class="font-bold text-slate-800 text-sm">보호소 모드</h3>
                                                    <p class="text-xs text-slate-400">Gold 멤버십을 보호소 전용으로 강조</p>
                                                </div>
                                            </div>
                                            <div class="relative inline-block w-11 h-6 align-middle select-none">
                                                <input type="checkbox" id="setting-shelter-mode"
                                                    class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer border-slate-200 checked:right-0 checked:border-juo-orange" />
                                                <span
                                                    class="toggle-label block overflow-hidden h-6 rounded-full bg-slate-300 cursor-pointer"></span>
                                            </div>
                                        </div>
                                    </div>

                                    <div>
                                        <label
                                            class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block">단축키
                                            안내</label>
                                        <div class="bg-slate-50 border border-slate-200 rounded-xl p-4 space-y-2">
                                            <div class="flex items-center gap-3">
                                                <i data-lucide="keyboard" class="w-5 h-5 text-slate-400"></i>
                                                <span class="text-sm text-slate-600">
                                                    <kbd
                                                        class="px-2 py-1 bg-white border border-slate-200 rounded font-bold text-xs">ESC</kbd>
                                                    종료
                                                </span>
                                            </div>
                                            <div class="flex items-center gap-3">
                                                <i data-lucide="pause" class="w-5 h-5 text-slate-400"></i>
                                                <span class="text-sm text-slate-600">
                                                    <kbd
                                                        class="px-2 py-1 bg-white border border-slate-200 rounded font-bold text-xs">Space</kbd>
                                                    일시정지 / 재생
                                                </span>
                                            </div>
                                            <div class="flex items-center gap-3">
                                                <i data-lucide="arrow-left" class="w-5 h-5 text-slate-400"></i>
                                                <span class="text-sm text-slate-600">
                                                    <kbd
                                                        class="px-2 py-1 bg-white border border-slate-200 rounded font-bold text-xs">←</kbd>
                                                    이전 슬라이드
                                                </span>
                                            </div>
                                            <div class="flex items-center gap-3">
                                                <i data-lucide="arrow-right" class="w-5 h-5 text-slate-400"></i>
                                                <span class="text-sm text-slate-600">
                                                    <kbd
                                                        class="px-2 py-1 bg-white border border-slate-200 rounded font-bold text-xs">→</kbd>
                                                    다음 슬라이드
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Notice Section -->
                        <section id="section-notice" class="mb-8 mt-12">
                            <div class="bg-white rounded-2xl border border-slate-200 overflow-hidden">
                                <div class="p-6 border-b border-slate-100 flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div
                                            class="w-10 h-10 rounded-xl bg-orange-100 flex items-center justify-center text-juo-orange">
                                            <i data-lucide="megaphone" class="w-5 h-5"></i>
                                        </div>
                                        <div>
                                            <h2 class="text-lg font-bold text-slate-800">매장 공지사항</h2>
                                            <p class="text-sm text-slate-400">방문 고객에게 전달할 프로모션이나 안내사항</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <button onclick="previewNotice()"
                                            class="px-4 py-2 bg-white border border-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-50 transition flex items-center gap-2">
                                            <i data-lucide="eye" class="w-4 h-4"></i>
                                            미리보기
                                        </button>
                                        <label class="flex items-center gap-3 cursor-pointer select-none">
                                            <span class="text-sm font-bold text-slate-600">사용</span>
                                            <div class="relative inline-block w-11 h-6 align-middle select-none">
                                                <input type="checkbox" id="notice-enabled"
                                                    class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer border-slate-200 checked:right-0 checked:border-juo-orange" />
                                                <span
                                                    class="toggle-label block overflow-hidden h-6 rounded-full bg-slate-300 cursor-pointer"></span>
                                            </div>
                                        </label>
                                    </div>
                                </div>

                                <div id="notice-editor-wrapper" class="p-6">
                                    <div class="mb-4">
                                        <label
                                            class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block">공지
                                            제목</label>
                                        <input type="text" id="notice-title"
                                            class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-juo-orange/20 focus:border-juo-orange font-bold text-slate-800"
                                            placeholder="공지 제목 입력 (예: 이번 달 제휴 병원 안내)">
                                    </div>

                                    <div class="border border-slate-200 rounded-xl overflow-hidden">
                                        <div
                                            class="flex items-center gap-1 p-3 bg-slate-50 border-b border-slate-200 overflow-x-auto">
                                            <button onclick="formatText('bold')"
                                                class="p-2 hover:bg-white rounded-lg text-slate-500 hover:text-juo-orange transition">
                                                <i data-lucide="bold" class="w-4 h-4"></i>
                                            </button>
                                            <button onclick="formatText('italic')"
                                                class="p-2 hover:bg-white rounded-lg text-slate-500 hover:text-juo-orange transition">
                                                <i data-lucide="italic" class="w-4 h-4"></i>
                                            </button>
                                            <button onclick="formatText('underline')"
                                                class="p-2 hover:bg-white rounded-lg text-slate-500 hover:text-juo-orange transition">
                                                <i data-lucide="underline" class="w-4 h-4"></i>
                                            </button>
                                            <div class="w-px h-4 bg-slate-300 mx-2"></div>
                                            <button onclick="formatText('insertUnorderedList')"
                                                class="p-2 hover:bg-white rounded-lg text-slate-500 hover:text-juo-orange transition">
                                                <i data-lucide="list" class="w-4 h-4"></i>
                                            </button>
                                            <div class="w-px h-4 bg-slate-300 mx-2"></div>
                                            <div class="flex items-center gap-2">
                                                <span class="text-xs text-slate-400 font-bold">크기</span>
                                                <input type="number" value="18" min="10" max="100"
                                                    class="w-14 text-center text-sm border border-slate-200 rounded-lg py-1"
                                                    onchange="setFontSize(this.value)">
                                            </div>
                                        </div>

                                        <div id="notice-content" contenteditable="true"
                                            class="w-full p-6 min-h-[200px] focus:outline-none text-slate-600 leading-relaxed prose prose-slate max-w-none"
                                            onpaste="handlePaste(event)">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <!-- Section Divider -->
                        <div class="border-t-2 border-dashed border-slate-200 my-12"></div>

                        <!-- Slides Section -->
                        <section id="section-slides" class="mb-8">
                            <div class="flex items-center justify-between mb-6">
                                <div>
                                    <h2 class="text-xl font-black text-slate-800">소개할 아이 슬라이드</h2>
                                    <p class="text-sm text-slate-400 mt-1">등록된 순서대로 슬라이드가 송출됩니다. 각 슬라이드에 최대 2마리의 아이를 등록할
                                        수 있습니다.</p>
                                </div>
                                <div class="flex items-center gap-4">
                                    <span class="text-sm text-slate-400">총 <span id="slide-count"
                                            class="font-bold text-slate-700">1</span>개 슬라이드</span>
                                    <button onclick="addNewSlideBlock()"
                                        class="px-4 py-2 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-700 transition flex items-center gap-2">
                                        <i data-lucide="plus" class="w-4 h-4"></i>
                                        소개할 아이 슬라이드 추가
                                    </button>
                                </div>
                            </div>

                            <!-- Slide Title Settings -->
                            <div class="bg-white rounded-xl border border-slate-200 p-4 mb-6">
                                <label class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 block">섹션
                                    제목 설정</label>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <input type="text" id="intro-title"
                                            class="w-full px-3 py-2 rounded-lg border border-slate-200 text-sm font-bold text-slate-700 focus:outline-none focus:border-juo-orange focus:ring-2 focus:ring-juo-orange/20 transition"
                                            placeholder="영문 타이틀">
                                    </div>
                                    <div>
                                        <input type="text" id="intro-subtitle"
                                            class="w-full px-3 py-2 rounded-lg border border-slate-200 text-sm font-bold text-slate-700 focus:outline-none focus:border-juo-orange focus:ring-2 focus:ring-juo-orange/20 transition"
                                            placeholder="한글 타이틀">
                                    </div>
                                </div>
                            </div>

                            <div id="admin-slides-list" class="space-y-6">
                                <!-- Slides injected here -->
                            </div>
                        </section>

                    </div>

                    <!-- Emoji Quick Access -->
                    <div class="w-52 shrink-0">
                        <div
                            class="bg-white rounded-xl border border-slate-200 overflow-hidden sticky top-4 max-h-[calc(100vh-2rem)] overflow-y-auto">
                            <div class="p-3 border-b border-slate-100 flex items-center gap-2">
                                <i data-lucide="smile" class="w-4 h-4 text-juo-orange"></i>
                                <h3 class="font-bold text-slate-800 text-xs">자주 쓰는 이모지</h3>
                            </div>
                            <div class="p-3">
                                <p class="text-[10px] text-slate-500 mb-2">클릭하여 복사</p>

                                <div class="text-[10px] font-bold text-slate-400 mb-1">상태</div>
                                <div class="grid grid-cols-4 gap-1.5 mb-3">
                                    <button onclick="copyEmoji('🏠')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="가족 찾는 중">🏠</button>
                                    <button onclick="copyEmoji('🌷')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="가족 맞이 준비중">🌷</button>
                                    <button onclick="copyEmoji('🌻')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="행복한 집으로">🌻</button>
                                    <button onclick="copyEmoji('🌸')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="꽃">🌸</button>
                                </div>

                                <div class="text-[10px] font-bold text-slate-400 mb-1">공지사항</div>
                                <div class="grid grid-cols-4 gap-1.5 mb-3">
                                    <button onclick="copyEmoji('📢')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="확성기">📢</button>
                                    <button onclick="copyEmoji('📣')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="메가폰">📣</button>
                                    <button onclick="copyEmoji('📌')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="핀">📌</button>
                                    <button onclick="copyEmoji('🔔')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="종">🔔</button>
                                    <button onclick="copyEmoji('⚠️')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="주의">⚠️</button>
                                    <button onclick="copyEmoji('❗')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="느낌표">❗</button>
                                    <button onclick="copyEmoji('💡')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="전구">💡</button>
                                    <button onclick="copyEmoji('📅')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="달력">📅</button>
                                </div>

                                <div class="text-[10px] font-bold text-slate-400 mb-1">강아지</div>
                                <div class="grid grid-cols-4 gap-1.5 mb-3">
                                    <button onclick="copyEmoji('🐕')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="강아지">🐕</button>
                                    <button onclick="copyEmoji('🐶')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="멍멍이">🐶</button>
                                    <button onclick="copyEmoji('🦴')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="뼈다귀">🦴</button>
                                    <button onclick="copyEmoji('🐾')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="발자국">🐾</button>
                                </div>

                                <div class="text-[10px] font-bold text-slate-400 mb-1">고양이</div>
                                <div class="grid grid-cols-4 gap-1.5 mb-3">
                                    <button onclick="copyEmoji('🐱')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="고양이">🐱</button>
                                    <button onclick="copyEmoji('🐈')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="낸이">🐈</button>
                                    <button onclick="copyEmoji('🐯')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="호랑이">🐯</button>
                                    <button onclick="copyEmoji('🦁')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="사자">🦁</button>
                                    <button onclick="copyEmoji('🐟')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="생선">🐟</button>
                                    <button onclick="copyEmoji('🧶')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="실">🧶</button>
                                    <button onclick="copyEmoji('🧸')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="테디베어">🧸</button>
                                    <button onclick="copyEmoji('🎾')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="공">🎾</button>
                                </div>

                                <div class="text-[10px] font-bold text-slate-400 mb-1">하트 & 감정</div>
                                <div class="grid grid-cols-4 gap-1.5 mb-3">
                                    <button onclick="copyEmoji('❤️')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="하트">❤️</button>
                                    <button onclick="copyEmoji('💖')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="반짝하트">💖</button>
                                    <button onclick="copyEmoji('💕')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="두하트">💕</button>
                                    <button onclick="copyEmoji('😊')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="미소">😊</button>
                                    <button onclick="copyEmoji('😍')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="하트눈">😍</button>
                                    <button onclick="copyEmoji('🥰')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="사랑">🥰</button>
                                </div>

                                <div class="text-[10px] font-bold text-slate-400 mb-1">기타</div>
                                <div class="grid grid-cols-4 gap-1.5">
                                    <button onclick="copyEmoji('✅')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="체크">✅</button>
                                    <button onclick="copyEmoji('⭐')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="별">⭐</button>
                                    <button onclick="copyEmoji('✨')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="반짝">✨</button>
                                    <button onclick="copyEmoji('🎉')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="축하">🎉</button>
                                    <button onclick="copyEmoji('🎀')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="리본">🎀</button>
                                    <button onclick="copyEmoji('💝')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="선물">💝</button>
                                    <button onclick="copyEmoji('🎁')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="선물상자">🎁</button>
                                    <button onclick="copyEmoji('🏥')"
                                        class="aspect-square flex items-center justify-center text-xl bg-slate-50 hover:bg-orange-50 rounded transition"
                                        title="병원">🏥</button>
                                </div>
                                <div id="emoji-copy-feedback"
                                    class="mt-2 text-xs text-center text-green-600 font-bold opacity-0 transition-opacity">
                                    복사 완료!</div>
                            </div>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </div>

    <!-- Preview Container -->
    <div id="preview-container" class="hidden fixed inset-0 z-[100] bg-white">
        <div id="preview-content" class="w-full h-full"></div>
        <div
            class="fixed top-6 left-6 z-[110] bg-black/80 text-white px-4 py-2 rounded-xl flex items-center gap-3 shadow-xl">
            <div class="w-3 h-3 rounded-full bg-red-500 animate-pulse"></div>
            <span class="font-bold text-sm">미리보기 화면</span>
            <button onclick="closePreview()"
                class="ml-4 px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-bold transition">ESC
                닫기</button>
        </div>
    </div>

    <!-- Presentation Container -->
    <div id="presentation-container" class="hidden fixed inset-0 z-50 bg-white">
        <div id="slideshow-slides" class="w-full h-full"></div>

        <div id="slideshow-controls-wrapper"
            class="fixed bottom-0 left-0 right-0 h-32 z-[60] flex items-end justify-center pb-8 opacity-0 hover:opacity-100 transition-opacity duration-300 show-controls">
            <div id="slideshow-controls"
                class="flex items-center gap-4 bg-black/70 backdrop-blur-sm text-white px-6 py-3 rounded-2xl shadow-2xl">
                <button onclick="togglePause()" id="pause-btn"
                    class="flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl font-bold transition">
                    <i data-lucide="pause" class="w-5 h-5"></i>
                    <span>일시정지</span>
                </button>
                <div class="w-px h-6 bg-white/30"></div>
                <button onclick="prevSlide()" class="p-2 hover:bg-white/20 rounded-lg transition">
                    <i data-lucide="chevron-left" class="w-5 h-5"></i>
                </button>
                <span id="slide-counter" class="font-bold text-sm">1 / 10</span>
                <button onclick="nextSlide()" class="p-2 hover:bg-white/20 rounded-lg transition">
                    <i data-lucide="chevron-right" class="w-5 h-5"></i>
                </button>
                <div class="w-px h-6 bg-white/30"></div>
                <button onclick="stopSlideshow()"
                    class="flex items-center gap-2 px-4 py-2 bg-red-500/80 hover:bg-red-500 rounded-xl font-bold transition">
                    <i data-lucide="x" class="w-5 h-5"></i>
                    <span>종료</span>
                </button>
            </div>
        </div>
    </div>

    <script src="display_system/state.js?v=2"></script>
    <script src="display_system/admin.js?v=2"></script>
    <script src="display_system/editor.js?v=2"></script>
    <script src="display_system/slideshow_templates.js?v=1"></script>
    <script src="display_system/slideshow.js?v=5"></script>
    <script src="display_system.js?v=2"></script>
    <script>
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        function copyEmoji(emoji) {
            navigator.clipboard.writeText(emoji).then(() => {
                const feedback = document.getElementById('emoji-copy-feedback');
                feedback.classList.remove('opacity-0');
                setTimeout(() => {
                    feedback.classList.add('opacity-0');
                }, 1500);
            });
        }

        function hardRefresh() {
            if (confirm('최신 시스템으로 업데이트하기 위해 페이지를 새로고침하시겠습니까?')) {
                const url = new URL(window.location.href);
                url.searchParams.set('reload', Date.now());
                window.location.href = url.toString();
            }
        }
    </script>
</body>

</html>