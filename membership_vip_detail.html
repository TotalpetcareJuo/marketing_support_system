<!DOCTYPE html>
<html lang="ko" style="scroll-behavior: smooth;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIP Membership Experience</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="membership_vip_detail.css">
</head>

<body>

    <!-- Hero Section -->
    <div class="stars" id="starContainer"></div>
    <header class="hero">
        <div class="hero-crown"><i class="fa-solid fa-crown"></i></div>
        <h1>THE VIP<br>EXPERIENCE</h1>
        <p>타협하지 않는 완벽한 케어, 우리 아이의 첫 1년</p>
        <a href="#persuasive" class="next-section-btn"><i class="fa-solid fa-chevron-down"></i></a>
    </header>

    <!-- Persuasive Copy Section -->
    <section id="persuasive">
        <div class="persuasive-container">
            <h2 class="persuasive-title">
                "다시는 오지 않을 소중한 1년,<br>
                <span class="font-cinzel" style="color: var(--gold-2); font-size: 1.3em;">후회 없는 사랑을 선물하세요."</span>
            </h2>
            <div class="persuasive-content">
                <p>
                    평생의 건강을 좌우하는 <span class="text-highlight">골든타임</span>.<br>
                    서툰 시작이 아이에게 미안함으로 남지 않도록—
                </p>
                <div class="divider-small"></div>
                <p>
                    접종, 중성화, 배변 훈련, 검진까지...<br>
                    꼭 필요하지만 놓치기 쉬운 <strong>모든 케어</strong>를<br>
                    <span class="text-highlight">진심을 담아 빈틈없이 준비했습니다.</span>
                </p>
            </div>
            <div class="persuasive-badge">
                <i class="fa-solid fa-heart"></i> 오직 아이만 바라보세요, 나머지는 토탈펫케어가 챙길게요.
            </div>
        </div>
        <a href="#benefit-grid-section" class="next-section-btn"><i class="fa-solid fa-chevron-down"></i></a>
    </section>

    <!-- Interactive Benefit Grid (Shopping Cart Style) -->
    <section id="benefit-grid-section">
        <h2>A Year of Perfect Care</h2>

        <div class="benefits-grid-container">
            <div class="emotional-guide">
                <p class="main-copy">"사랑하는 만큼, <span class="text-gold">빈틈없이 채워주세요.</span>"</p>
                <p class="sub-copy">시중 평균 시세 기준, 과장 없이 책정했습니다. 진심을 담아 준비한 혜택입니다.</p>
            </div>

            <div class="shop-layout">
                <!-- Left Column: Items (4 items) -->
                <div class="shop-col shop-left">
                    <!-- 1. Vaccinations (300k) -->
                    <div class="benefit-card" onclick="toggleBenefit(this)" data-price="300000">
                        <div class="card-header">
                            <div class="card-icon"><i class="fa-solid fa-syringe"></i></div>
                            <div class="card-info">
                                <h3>필수 예방접종 (6회)</h3>
                                <p class="price-tag">책정가 300,000원</p>
                            </div>
                            <div class="check-mark"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <div class="card-overlay">
                            <p>면역력이 약한 아기 강아지에게 가장 중요한 1차~6차 종합백신. 수의사가 직접 컨디션까지 꼼꼼하게 체크합니다.</p>
                        </div>
                    </div>

                    <!-- 2. Microchip (100k) -->
                    <div class="benefit-card" onclick="toggleBenefit(this)" data-price="100000">
                        <div class="card-header">
                            <div class="card-icon"><i class="fa-solid fa-id-card"></i></div>
                            <div class="card-info">
                                <h3>동물등록 & 내장칩</h3>
                                <p class="price-tag">책정가 100,000원</p>
                            </div>
                            <div class="check-mark"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <div class="card-overlay">
                            <p>소중한 가족이 되었다는 공식 증명. 구청 등록 절차와 안전한 내장형 마이크로칩 시술을 한 번에.</p>
                        </div>
                    </div>

                    <!-- 3. Initial Checkup (250k) -->
                    <div class="benefit-card" onclick="toggleBenefit(this)" data-price="250000">
                        <div class="card-header">
                            <div class="card-icon"><i class="fa-solid fa-stethoscope"></i></div>
                            <div class="card-info">
                                <h3>초기 종합 건강검진</h3>
                                <p class="price-tag">책정가 250,000원</p>
                            </div>
                            <div class="check-mark"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <div class="card-overlay">
                            <p>겉으로 보이지 않는 건강까지 체크. 잠복기 질병이나 선천적 문제를 조기에 발견하여 예방합니다.</p>
                        </div>
                    </div>

                    <!-- 4. Visit Training (350k) -->
                    <div class="benefit-card" onclick="toggleBenefit(this)" data-price="350000">
                        <div class="card-header">
                            <div class="card-icon"><i class="fa-solid fa-graduation-cap"></i></div>
                            <div class="card-info">
                                <h3>1:1 방문 훈련 교육</h3>
                                <p class="price-tag">책정가 350,000원</p>
                            </div>
                            <div class="check-mark"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <div class="card-overlay">
                            <p>배변 실수, 분리 불안 등 초보 보호자의 고민 해결. 전문 훈련사가 집으로 찾아가 1:1 맞춤 교육을 진행합니다.</p>
                        </div>
                    </div>
                </div>

                <!-- Center Column: Gift Box Panel -->
                <div class="shop-center">
                    <div class="gift-panel-sticky">
                        <div class="gift-status-card">
                            <h3>나의 선물 완성도</h3>
                            <div class="gift-box-large">
                                <div id="giftBox" class="gift-box">
                                    <i class="fa-solid fa-gift"></i>
                                    <div class="gift-glow"></div>
                                    <span id="giftPercent" class="gift-percent">0%</span>
                                </div>
                                <p class="gift-message" id="giftMessage">아이를 위한 선물을<br>골라주세요!</p>
                            </div>
                            <div class="total-value-display">
                                <span class="label">총 혜택 가치 <span class="annual-tag">연간 기준</span></span>
                                <div class="price-group">
                                    <span id="cartTotal" class="num">0</span>
                                    <span class="unit">원</span>
                                </div>
                            </div>
                            <!-- Discount Reveal (hidden by default) -->
                            <div id="discountReveal" class="discount-reveal">
                                <div class="discount-divider"></div>
                                <div class="discount-original">
                                    <span class="discount-label">개별 결제 시</span>
                                    <span class="discount-price strikethrough">2,570,000원</span>
                                </div>
                                <div class="discount-arrow"><i class="fa-solid fa-arrow-down"></i></div>
                                <div class="discount-vip">
                                    <span class="discount-label">VIP 멤버십 <span class="annual-tag">연간</span></span>
                                    <span class="discount-price vip-price">1,920,000원</span>
                                </div>
                                <div class="discount-monthly">
                                    <span class="discount-label">월 납입금</span>
                                    <span class="discount-price monthly-price">160,000원</span>
                                </div>
                                <div class="discount-save">
                                    <i class="fa-solid fa-bolt"></i> 연간 <strong>650,000원</strong> 절약!
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Items (3 items) -->
                <div class="shop-col shop-right">
                    <!-- 5. Neutering (550k) -->
                    <div class="benefit-card" onclick="toggleBenefit(this)" data-price="550000">
                        <div class="card-header">
                            <div class="card-icon"><i class="fa-solid fa-user-doctor"></i></div>
                            <div class="card-info">
                                <h3>중성화 수술 지원</h3>
                                <p class="price-tag">책정가 550,000원</p>
                            </div>
                            <div class="check-mark"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <div class="card-overlay">
                            <p>가장 부담스러운 초기 수술비 전액 지원. 최신 장비와 안전한 마취 시스템으로 걱정 없이 맡기세요.</p>
                        </div>
                    </div>

                    <!-- 6. Welcome Kit (720k) -->
                    <div class="benefit-card" onclick="toggleBenefit(this)" data-price="720000">
                        <div class="card-header">
                            <div class="card-icon"><i class="fa-solid fa-gift"></i></div>
                            <div class="card-info">
                                <h3>프리미엄 사료, 용품 세트</h3>
                                <p class="price-tag">책정가 720,000원</p>
                            </div>
                            <div class="check-mark"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <div class="card-overlay">
                            <p>무겁게 사러 가지 마세요. 우리 아이 입맛에 딱 맞는 최고급 유기농 사료와 필수 용품을 매달 집 앞으로.</p>
                        </div>
                    </div>

                    <!-- 7. Heartworm (300k) -->
                    <div class="benefit-card" onclick="toggleBenefit(this)" data-price="300000">
                        <div class="card-header">
                            <div class="card-icon"><i class="fa-solid fa-heart-pulse"></i></div>
                            <div class="card-info">
                                <h3>심장사상충 예방 (1년)</h3>
                                <p class="price-tag">책정가 300,000원</p>
                            </div>
                            <div class="check-mark"><i class="fa-solid fa-plus"></i></div>
                        </div>
                        <div class="card-overlay">
                            <p>치명적인 심장사상충으로부터 1년 내내 안전하게. 매달 병원에 내원하여 수의사가 직접 투약 및 관리.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <a href="#evolution" class="next-section-btn"><i class="fa-solid fa-chevron-down"></i></a>
    </section>

    <!-- 2nd Year Evolution Section -->
    <section id="evolution">
        <div class="evolution-container">
            <div class="evolution-header">
                <h2>BEYOND 1st YEAR</h2>
                <p>성견이 되어도, <span class="text-gold">VIP의 가치는 변하지 않습니다.</span><br>
                    월 납입금 그대로, 혜택은 아이의 성장에 맞춰 진화합니다.</p>
            </div>

            <!-- Price Anchor -->
            <div class="evo-price-anchor">
                <div class="evo-price-inner">
                    <span class="evo-price-label">월 납입금</span>
                    <div class="evo-price-amount">
                        <span class="evo-price-num">160,000</span>
                        <span class="evo-price-unit">원</span>
                    </div>
                    <div class="evo-price-badge"><i class="fa-solid fa-lock"></i> 평생 동결</div>
                </div>
            </div>

            <!-- Year Tabs -->
            <div class="evo-tabs">
                <button class="evo-tab active" onclick="switchEvoTab(0)">
                    <i class="fa-solid fa-paw"></i>
                    <span>1년차</span>
                    <small>Puppy Care</small>
                </button>
                <button class="evo-tab" onclick="switchEvoTab(1)">
                    <i class="fa-solid fa-shield-dog"></i>
                    <span>2년차~</span>
                    <small>Adult Care</small>
                </button>
            </div>

            <!-- Year Content Panels -->
            <div class="evo-panels">
                <!-- Panel 1: Year 1 -->
                <div class="evo-panel active" id="evoPanel0">
                    <div class="evo-panel-title">
                        <i class="fa-solid fa-baby"></i>
                        퍼피 시기 집중 케어
                        <span class="evo-panel-subtitle">면역 형성과 기초 건강의 골든타임</span>
                    </div>
                    <div class="evo-items">
                        <div class="evo-item">
                            <div class="evo-item-icon"><i class="fa-solid fa-stethoscope"></i></div>
                            <div class="evo-item-info">
                                <h4>기본 건강검진 + 키트검사</h4>
                                <p>기초 건강 상태 확인 및 질병 스크리닝</p>
                            </div>
                            <div class="evo-item-value">250,000원</div>
                        </div>
                        <div class="evo-item">
                            <div class="evo-item-icon"><i class="fa-solid fa-syringe"></i></div>
                            <div class="evo-item-info">
                                <h4>필수 예방접종 (6회)</h4>
                                <p>1차~6차 종합백신 + 광견병</p>
                            </div>
                            <div class="evo-item-value">300,000원</div>
                        </div>
                        <div class="evo-item">
                            <div class="evo-item-icon"><i class="fa-solid fa-user-doctor"></i></div>
                            <div class="evo-item-info">
                                <h4>중성화 수술 지원</h4>
                                <p>수술비 전액 + 사후관리</p>
                            </div>
                            <div class="evo-item-value">550,000원</div>
                        </div>
                    </div>
                </div>

                <!-- Panel 2: Year 2+ -->
                <div class="evo-panel" id="evoPanel1">
                    <div class="evo-panel-title">
                        <i class="fa-solid fa-shield-heart"></i>
                        성견 맞춤 건강관리
                        <span class="evo-panel-subtitle">질병 예방과 삶의 질 향상에 집중</span>
                    </div>
                    <div class="evo-items">
                        <div class="evo-item highlight">
                            <div class="evo-item-icon star"><i class="fa-solid fa-x-ray"></i></div>
                            <div class="evo-item-info">
                                <h4>종합 건강검진</h4>
                                <p>X-ray · 초음파 · 혈액 정밀검사</p>
                                <span class="evo-change-tag"><i class="fa-solid fa-arrow-up-right-dots"></i> 기본검진+예방접종에서
                                    업그레이드</span>
                            </div>
                            <div class="evo-item-value gold">700,000원</div>
                        </div>
                        <div class="evo-item highlight">
                            <div class="evo-item-icon star"><i class="fa-solid fa-spa"></i></div>
                            <div class="evo-item-info">
                                <h4>호텔링 3일 + 위생미용·목욕 6회</h4>
                                <p>프리미엄 돌봄 + 위생 관리 서비스</p>
                                <span class="evo-change-tag"><i class="fa-solid fa-arrow-up-right-dots"></i> 중성화 수술에서
                                    전환</span>
                            </div>
                            <div class="evo-item-value gold">450,000원</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="evolution-footer">
                <div class="evo-footer-badge">
                    <i class="fa-solid fa-rotate"></i>
                    어릴 때는 <strong>기초 다지기</strong>, 커서는 <strong>질병 예방과 관리</strong>.<br>
                    생애 주기에 맞춰 혜택이 <span class="text-gold">자동으로 진화</span>합니다.
                </div>
            </div>
        </div>
        <a href="#calculator" class="next-section-btn"><i class="fa-solid fa-chevron-down"></i></a>
    </section>

    <!-- Value Analysis -->
    <section id="calculator">
        <h2>Real Value Analysis</h2>
        <div class="value-analysis-container">
            <div class="vc-card">
                <div class="vc-header">
                    <h3>숫자로 증명하는 압도적 가치</h3>
                </div>
                <div class="vc-body">
                    <!-- Graph Section -->
                    <div class="vc-graph">
                        <!-- Market Price Bar -->
                        <div class="bar-container">
                            <div class="bar-label-group">
                                <span>개별 결제 시</span>
                                <span class="counter" data-target="2570000">0</span>
                            </div>
                            <div class="bar-track">
                                <div class="bar-fill market" data-width="100%"></div>
                            </div>
                        </div>
                        <!-- VIP Price Bar -->
                        <div class="bar-container">
                            <div class="bar-label-group">
                                <span style="color: var(--gold-2); font-weight: bold;">VIP 멤버십</span>
                                <span class="counter highlight" style="color: var(--gold-2);"
                                    data-target="1920000">0</span>
                            </div>
                            <div class="bar-track">
                                <div class="bar-fill vip" data-width="55%"></div>
                                <!-- Visual Cheat: 55% for dramatic effect -->
                            </div>
                        </div>
                    </div>

                    <div class="vc-divider"></div>

                    <!-- Savings -->
                    <div class="vc-savings">
                        <span class="savings-label">연간 절약 금액</span>
                        <div class="savings-amount">
                            <span class="counter" data-target="650000">0</span> 원 SAVE
                        </div>
                    </div>
                </div>
                <div class="vc-footer">
                    <p>* 기초 의료, 용품, 훈련 등 모든 혜택을 포함한 실제 가치입니다.</p>
                </div>
            </div>
        </div>
    </section>



    <script>
        // Toggle Timeline Accordion
        function toggleTimeline(element) {
            // Find ALL active items in the timeline (across both columns)
            const allActiveItems = document.querySelectorAll('.timeline-content.active');

            // Close any active item that is not the one currently clicked
            allActiveItems.forEach(item => {
                if (item !== element) {
                    item.classList.remove('active');
                }
            });

            // Toggle the clicked item
            element.classList.toggle('active');
        }


        // Generate Stars
        const starContainer = document.getElementById('starContainer');
        for (let i = 0; i < 50; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.width = Math.random() * 3 + 'px';
            star.style.height = star.style.width;
            star.style.setProperty('--duration', Math.random() * 3 + 2 + 's');
            star.style.setProperty('--delay', Math.random() * 5 + 's');
            star.style.setProperty('--opacity', Math.random() * 0.7 + 0.3);
            starContainer.appendChild(star);
        }


        // Evolution Section Tab Switching
        function switchEvoTab(index) {
            const tabs = document.querySelectorAll('.evo-tab');
            const panels = document.querySelectorAll('.evo-panel');

            tabs.forEach((t, i) => {
                t.classList.toggle('active', i === index);
            });

            panels.forEach((p, i) => {
                if (i === index) {
                    p.classList.add('active');
                    // Stagger item animations
                    const items = p.querySelectorAll('.evo-item');
                    items.forEach((item, idx) => {
                        item.style.animationDelay = (idx * 0.1) + 's';
                    });
                } else {
                    p.classList.remove('active');
                }
            });
        }

        // --- Shopping Cart Logic ---
        let currentTotal = 0;
        const maxTotal = 2570000; // Total value for 100%

        function toggleBenefit(card) {
            const price = parseInt(card.dataset.price);
            const icon = card.querySelector('.check-mark i');
            const giftBox = document.getElementById('giftBox');
            const overlay = card.querySelector('.card-overlay');

            // Close all OTHER overlays (accordion: only one description open at a time)
            document.querySelectorAll('.benefit-card .card-overlay.show').forEach(o => {
                if (o !== overlay) {
                    o.classList.remove('show');
                }
            });

            if (card.classList.contains('active')) {
                // Remove item
                card.classList.remove('active');
                currentTotal -= price;
                icon.classList.remove('fa-check');
                icon.classList.add('fa-plus');
                overlay.classList.remove('show');
            } else {
                // Add item
                card.classList.add('active');
                currentTotal += price;
                icon.classList.remove('fa-plus');
                icon.classList.add('fa-check');

                // Trigger Shake Animation
                giftBox.classList.remove('snake-shake');
                void giftBox.offsetWidth;
                giftBox.classList.add('snake-shake');

                // Show accordion description
                overlay.classList.add('show');
            }

            updateTotalDisplay();
        }

        function updateTotalDisplay() {
            const totalElement = document.getElementById('cartTotal');

            // Animate Number
            const currentDisplay = parseInt(totalElement.innerText.replace(/,/g, '')) || 0;
            animateValue(totalElement, currentDisplay, currentTotal, 500);

            // Update Gift Box Visuals
            const giftBox = document.getElementById('giftBox');
            const giftPercent = document.getElementById('giftPercent');
            const giftMessage = document.getElementById('giftMessage');
            const percent = Math.min(100, Math.round((currentTotal / maxTotal) * 100)); // Cap at 100%

            giftPercent.innerText = percent + "%";

            // State: Filling
            if (percent > 0) {
                giftBox.classList.add('filling');
                giftMessage.innerHTML = "선물이 가득 차고 있어요!";
            } else {
                giftBox.classList.remove('filling');
                giftMessage.innerHTML = "아이를 위한 선물을<br>골라주세요!";
            }

            // State: Complete
            if (percent >= 100) {
                giftBox.classList.add('complete');
                giftMessage.innerHTML = "<span class='text-gold'>완벽한 선물</span>이<br>준비되었습니다!<br><small style='color:var(--text-dim); font-size:0.8rem;'>🎁 선물을 터치하세요!</small>";
            } else {
                giftBox.classList.remove('complete');
                // Hide discount reveal when items are removed
                const discountReveal = document.getElementById('discountReveal');
                if (discountReveal) discountReveal.classList.remove('show');
            }
        }

        // Gift Box Click: Reveal discount at 100%
        document.getElementById('giftBox').addEventListener('click', function (e) {
            e.stopPropagation();
            const giftBox = this;
            if (!giftBox.classList.contains('complete')) return;

            const discountReveal = document.getElementById('discountReveal');

            // Close all open card descriptions
            document.querySelectorAll('.benefit-card .card-overlay.show').forEach(o => {
                o.classList.remove('show');
            });

            // Toggle discount reveal
            discountReveal.classList.toggle('show');
        });

        function animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                obj.innerText = Math.floor(progress * (end - start) + start).toLocaleString();
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                } else {
                    obj.innerText = end.toLocaleString();
                }
            };
            window.requestAnimationFrame(step);
        }


        // --- Existing Animation Logic (Observer) ---
        const observerOptions = { threshold: 0.1 };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');

                    // Trigger Counters if inside value card
                    if (entry.target.classList.contains('vc-card')) {
                        // Only start if not already started (check a flag or class)
                        if (!entry.target.classList.contains('animated')) {
                            startCounters();
                            animateBars();
                            entry.target.classList.add('animated');
                        }
                    }
                }
            });
        }, observerOptions);

        document.querySelectorAll('.benefit-card').forEach(item => {
            observer.observe(item); // Add fade-in for cards too if css supports it
        });

        // Observe Value Card
        const valueCard = document.querySelector('.vc-card');
        if (valueCard) observer.observe(valueCard);

        function startCounters() {
            const counters = document.querySelectorAll('.counter');
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                animateValue(counter, 0, target, 2000);
            });
        }

        function animateBars() {
            const bars = document.querySelectorAll('.bar-fill');
            bars.forEach(bar => {
                const width = bar.getAttribute('data-width');
                bar.style.width = width;
            });
        }
    </script>
</body>

</html>